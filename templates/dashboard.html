<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Analisis</title>

    <link rel="stylesheet" href="{{ url_for('custom_static', filename='css/style.css') }}">
</head>

<body class="dark">

<nav class="navbar">
    <div class="logo">ðŸ“Š Dashboard</div>
    <ul class="nav-links">
        <li><a href="/">Home</a></li>
        <li><a href="/dashboard">Dashboard</a></li>
        <li><a href="/otomasi">Otomasi</a></li>
        <li><a href="/about">About</a></li>
    </ul>
    <button id="toggle-theme">ðŸŒ™</button>
</nav>

<section class="container">
    <div class="card">
        <h2>Analisis Kata</h2>
        <canvas id="wordChart"></canvas>
    </div>

    <div class="card">
        <h2>Distribusi Rating</h2>
        <canvas id="ratingChart"></canvas>
    </div>

    <div class="card">
        <h2>Wordcloud</h2>
        <img src="{{ url_for('custom_static', filename=wordcloud) }}" class="wordcloud-img">
    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const labels = {{ common_words|map(attribute=0)|list }};
    const values = {{ common_words|map(attribute=1)|list }};

    new Chart(document.getElementById("wordChart"), {
        type: "bar",
        data: {
            labels: labels,
            datasets: [{
                label: "Frekuensi",
                data: values
            }]
        }
    });

    const ratingLabels = Object.keys({{ rating_data|safe }});
    const ratingValues = Object.values({{ rating_data|safe }});

    new Chart(document.getElementById("ratingChart"), {
        type: "pie",
        data: {
            labels: ratingLabels,
            datasets: [{
                data: ratingValues
            }]
        }
    });
</script>

<script src="{{ url_for('custom_static', filename='theme.js') }}"></script>
</body>
</html>
